{{ header }}
<style type="text/css">
	h6 {
		line-height: 1.3em;
	}

	.panel-body {
		position: relative;
	}

	div.note-editor.note-frame.panel.panel-default{
		margin-bottom: 0px;
	}

	#button-save {
		position: absolute;
		right: 10px;
		top: 9px;
	}

	.help {
		color: #888;
		font-weight: normal;
		font-size: 11px;
		display: block;
		margin-top: 3px;
		margin-bottom: 10px;
		font-style: italic;
	}


	.marker-down {
		width: 0px;
		height: 0px;
		border-left: 5px solid transparent;
		border-right: 5px solid transparent;
		border-top: 5px solid #2f2f2f;
		position: absolute;
		z-index: 999;
		right: -7px;
		top: 16px;
	}

	.shortcode-name {
		padding: 2px 4px;
		font-size: 90%;
		color: #fff;
		background-color: #333;
		border-radius: 2px;
		box-shadow: inset 0 -1px 0 rgb(0 0 0 / 25%);
		display: table;
		font-weight: bold;
	}

	#affiliate {
		margin: 10px 0 15px 0;
	}

	@media only screen and (max-width: 600px) {
		.panel-left {
			min-width: unset !important;
			width: 80px;
		}

		.panel-wrapper .panel-left .setting-header {
			padding: 0;
		}

		.setting-header {
			opacity: 0;
			padding: 0;
		}

		.img-thumbnail img{
			width:100%;
		}
	}
</style>

{{ column_left }}
<div id="content">
	<div class="page-header">
		<div class="container-fluid">
			<h1>{{ heading_title }}</h1>
			<ul class="breadcrumb">
				{% for breadcrumb in breadcrumbs %}
				<li><a href="{{ breadcrumb.href }}">{{ breadcrumb.text }}</a></li>
				{% endfor %}
			</ul>
			<div class="pull-right">
				<a target="_blank" class="btn btn-info btn-sm" href="{{ ticket_link }}"><i class="fa fa-life-ring"></i> {{text_raise_ticket}}</a>

				<a target="_blank" class="btn btn-danger btn-sm" href="{{ doc_link }}"><i class="fa fa-book"></i> {{text_documentation}}</a>
			</div>
		</div>
	</div>

	<div class="container-fluid">
		{% if error_warning %}
		<div class="alert alert-danger"><i class="fa fa-exclamation-circle"></i> {{ error_permission }}
			<button type="button" class="close" data-dismiss="alert">&times;</button>
		</div>
		{% endif %}

		{% if success %}
		<div class="alert alert-success"><i class="fa fa-check-circle"></i> {{ success }}
			<button type="button" class="close" data-dismiss="alert">&times;</button>
		</div>
		{% endif %}

		<form action="{{ action }}" method="post" enctype="multipart/form-data" id="form-hpcr" class="form-horizontal">

			<div class="panel-wrapper">

				<div class="panel-left">
					<div class="setting-header">v {{ version }}</div>
					<ul class="menu list-unstyled">
						<li class="active">
							<a data-toggle="tab" href="#tab-general">
								<i class="fa fa-cog fa-fw"></i>
								{{ tab_general }}</a>
						</li>
						<li>
							<a data-toggle="tab" href="#tab-help">
								<i class="fa fa-question-circle"></i>
								{{ tab_help }}</a>
						</li>

					</ul>
				</div><!-- .panel-left ends -->
				<div class="panel-right">
					<div class="store-header">
						<div class="pull-right">
							<button type="submit" form="form-hpcr" data-toggle="tooltip" title="{{ button_save }}"
									class="btn btn-primary">{{ button_save }}
							</button>
						</div>
					</div>


					<div class="main-content">
						<div class="tab-content">
							<div class="tab-pane active" id="tab-general">
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-sms-number">{{ entry_status }}</label>
									<div class="col-sm-2">
										<input name="status" data-control="checkbox" value="1"
											   data-off-label="No"
											   data-on-label="Yes"
											   {% if status == 1 %} checked {% endif %}
											   type="checkbox"/>
									</div>

								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-api_type">{{ entry_api_type }}</label>
									<div class="col-sm-2">
										<input name="api_type" data-control="checkbox" value="1"
											   data-off-label="Free"
											   data-on-label="Pro"
											   {% if api_type == 1 %} checked {% endif %}
											   type="checkbox"/>
									</div>

								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-api_key">{{ entry_api_key }}<span class="help">{{ help_api_key }}</span></label>
									<div class="col-sm-10">
										<input name="api_key" type="text" class="form-control" id="input-api_key" value="{{ api_key }}" />
									</div>
								</div>

								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-api_key">Custom Fields
										<span class="help">Separate with comma.</span>
									</label>
									<div class="col-sm-10">
										<input class="form-control" placeholder="Enter custom fields name" id="input-custom-fields" name="custom_fields" value="{{ custom_fields }}">
										<code>Acceptable format: #custom_field_1{lang_id}, #custom_field_2{lang_id}, input[name=product_fields[1][content][{language_id}]], input[name=custom_field_2[lang_id]]</code>
									</div>
								</div>

								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-translate-to">
										{{ entry_language_source }}
									</label>
									<div class="col-sm-10">
										<div class="btn-group" data-toggle="buttons">
											{% for language in languages %}
											
											<label class="btn btn-success btn-sm {% if language.language_id == language_source %}active{% endif %}">
												<input type="radio" name="language_source" {% if language.language_id == language_source %}checked="checked"{% endif %} value="{{ language.language_id }}"> {{ language.name }}
											</label>
											
											{% endfor %}

										</div>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-default-translate-to">
										{{ entry_translate_language }}
									</label>
									<div class="col-sm-10">
										<div class="btn-group" data-toggle="buttons">
											{% for language in languages %}
											
											<label class="btn btn-success btn-sm {% if language.language_id == translate_language %}active{% endif %}">
												<input type="radio" name="translate_language" {% if language.language_id == translate_language %}checked="checked"{% endif %} value="{{ language.language_id }}"> {{ language.name }}
											</label>
											
											{% endfor %}

										</div>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-sms-number">{{ entry_paste_status }}</label>
									<div class="col-sm-2">
										<input name="paste_status" data-control="checkbox" value="1"
											   data-off-label="Disabled"
											   data-on-label="Enabled"
											   {% if paste_status == 1 %} checked {% endif %}
											   type="checkbox"/>
									</div>

								</div>
							</div>

							<div class="tab-pane" id="tab-help">
								<div id="license"></div>
								<div id="support"></div>
								<script type="text/javascript">
									$('#support').load('index.php?route=common/hp_validate/support&user_token={{ user_token }}');
									$('#license').load('index.php?route=common/hp_validate/license&user_token={{ user_token }}&code={{ extension_code }}&version={{ version }}');
								</script>
							</div>
						</div>
					</div> <!-- .main-content ends -->

				</div> <!-- panel-right ends -->

			</div>
		</form>
	</div> <!-- content ends -->

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
<script type="text/javascript">

	$(document).ready(function () {
		$.get("https://bariklabs.com/index.php?route=common/extension/version&code={{ extension_code }}&oc=3.0.x.x", function(data, status){
			const version =  "{{version}}".replace(/\D/g,'');
			const latest_version = data.replace(/\D/g,'');
			if(version<latest_version){
				$('.panel.panel-default:first').parent().prepend(`<div class="alert alert-danger">
<i class="fa fa-exclamation-circle"></i>
{{text_upgrade_version}}
	</div>`);
			}
		});


		if ($.fn.checkboxpicker) {
			$('[data-control=checkbox]').checkboxpicker({onClass: 'btn-info'});
		}
		$('#language a:first').tab('show');
		$('.btn-group .btn').addClass('btn-sm');

	});


</script>
{{ footer }}
